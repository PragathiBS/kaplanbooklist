(this["webpackJsonpbook-list"]=this["webpackJsonpbook-list"]||[]).push([[0],{48:function(e,t,a){},51:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(18),c=a.n(s),o=(a(48),a(49),a(50),a(51),a(65)),l=a(61),i=a(62),u=a(6),b=a(16),h=a(2);var j=function(e){var t=Object(u.g)();return Object(h.jsx)(o.a,{className:"mb-2",bg:"dark",variant:"dark",expand:"lg",children:Object(h.jsxs)(l.a,{fluid:!0,children:[Object(h.jsx)(b.b,{to:"/",children:Object(h.jsx)(o.a.Brand,{className:"ml-2",children:Object(h.jsx)("b",{children:"Books"})})}),"/booklist"===t.pathname&&Object(h.jsx)(b.b,{to:"/form/new",children:Object(h.jsx)(i.a,{variant:"primary",children:"Create New Book"})})]})})},d=a(19),O=a(66);var f=function(e){return Object(h.jsx)(O.a,{style:{width:"18rem"},className:"card",children:Object(h.jsxs)(O.a.Body,{children:[Object(h.jsx)(O.a.Title,{children:e.title}),Object(h.jsxs)(O.a.Text,{children:["Authors: ",e.authors]}),Object(h.jsxs)(O.a.Text,{children:["Publisher: ",e.publisher]}),Object(h.jsxs)(O.a.Text,{children:["Published Date: ",e.publishedDate]})]})})};var m=function(e){var t=e.data;return Object(h.jsx)("div",{className:"grid",children:t.map((function(e,t){return Object(h.jsx)(f,{title:e.volumeInfo.title,authors:e.volumeInfo.authors.toString(),publisher:e.volumeInfo.publisher,publishedDate:e.volumeInfo.publishedDate},t)}))})};var p=function(e){var t=e.searchData,a=e.onInputSearchData;return Object(h.jsx)("form",{children:Object(h.jsx)("div",{className:"input-wrapper m-3",children:Object(h.jsx)("input",{type:"text",onChange:a,value:t,className:"search",name:"search",placeholder:"Search by title, author or publisher"})})})},v=a(36),x=[],g=!1;function D(){return x}var k=a(63),w=a(42),C=a(67);var S=function(e){var t=e.variant,a=e.handleShow,r=e.text;return Object(h.jsx)(k.a,{children:Object(h.jsx)(w.a,{xs:6,children:Object(h.jsx)(C.a,{variant:t,onClose:function(){return a(!1)},dismissible:!0,children:Object(h.jsx)(C.a.Heading,{children:r})})})})};var y=function(e){var t,a=e.history,n=Object(r.useState)([]),s=Object(d.a)(n,2),c=s[0],o=s[1],i=Object(r.useState)(""),u=Object(d.a)(i,2),b=u[0],j=u[1],O=Object(r.useState)(!1),f=Object(d.a)(O,2),k=f[0],w=f[1];return Object(r.useEffect)((function(){console.log(a),0!==D().length?(o(D()),!0===g&&(w(!0),setTimeout((function(){w(!1)}),3e3),g=!1)):fetch("https://www.googleapis.com/books/v1/volumes?q=kaplan%20test%20prep").then((function(e){return e.json()})).then((function(e){var t;t=e.items,x=Object(v.a)(t),o(D())})).catch((function(e){return console.log(e)}))}),[]),Object(h.jsxs)(l.a,{children:[k&&Object(h.jsx)(S,{variant:"success",handleShow:w,text:"Successful! Added a new book."}),Object(h.jsx)(p,{searchData:b,onInputSearchData:function(e){j(e.target.value),t=D().filter((function(t){return t.volumeInfo.title.toLowerCase().includes(e.target.value.toLowerCase())||t.volumeInfo.authors.toString().toLowerCase().includes(e.target.value.toLowerCase())||t.volumeInfo.publisher.toLowerCase().includes(e.target.value.toLowerCase())})),o(t)}}),c.length>0?Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{className:"ml-3",children:[" Showing ",c.length," out of ",D().length," books. "]}),Object(h.jsx)("h5",{className:"mx-3 mt-3 mb-2",children:"All Books"}),Object(h.jsx)(m,{data:c})]}):Object(h.jsx)("p",{className:"ml-3",children:" No books available. "})]})},N=a(29),I=a(14),L=a(43),P=a(15),T=a.n(P),B=a(64);var F=function(e){var t=e.name,a=e.value,r=e.label,n=e.error,s=e.onChange;return Object(h.jsxs)(B.a.Group,{children:[Object(h.jsx)(B.a.Label,{htmlFor:t,children:r}),Object(h.jsx)(B.a.Control,{type:"text",value:a,name:t,id:t,onChange:s,placeholder:"Enter ".concat(r)}),n&&Object(h.jsx)("div",{className:"alert alert-danger",children:n})]})},q=function(e){var t=e.history,a=e.match,n=Object(r.useState)({bookData:{title:"",authors:"",publisher:"",publishedDate:""},errorData:{}}),s=Object(d.a)(n,2),c=s[0],o=c.bookData,u=c.errorData,b=s[1];Object(r.useEffect)((function(){!function(){try{if("/form/new"===a.path)b((function(){return{bookData:{title:"",authors:"",publisher:"",publishedDate:""},errorData:{}}}))}catch(e){t.replace("/not-found")}}()}),[]);var j={title:T.a.string().required().label("Title"),authors:T.a.string().required().label("Authors"),publisher:T.a.string().required().label("Publisher"),publishedDate:T.a.string().required().label("Published Date")};function O(){var e=T.a.validate(o,j,{abortEarly:!1}).error;if(!e)return null;var t,a={},r=Object(L.a)(e.details);try{for(r.s();!(t=r.n()).done;){var n=t.value;a[n.path[0]]=n.message}}catch(s){r.e(s)}finally{r.f()}return a}function f(e){var t=e.target,a=t.name,r=t.value,n=Object(N.a)({},u),s=function(e,t){var a=Object(I.a)({},e,t),r=Object(I.a)({},e,j[e]),n=T.a.validate(a,r).error;return n?n.details[0].message:null}(a,r);s?n[a]=s:delete n[a],b((function(e){return{bookData:Object(N.a)(Object(N.a)({},e.bookData),{},Object(I.a)({},a,r)),errorData:n}}))}return Object(h.jsx)(l.a,{className:"mt-4",children:Object(h.jsxs)(B.a,{onSubmit:function(e){e.preventDefault();var a=O();if(b((function(e){return{bookData:o,errorData:a}})),!a){var r,n=o.title,s=o.authors,c=o.publisher,l=o.publishedDate;r=Object(I.a)({},"volumeInfo",{title:n,authors:s.split(","),publisher:c,publishedDate:l}),x=[r].concat(Object(v.a)(x)),g=!0,t.replace("/")}},children:[Object(h.jsx)(F,{name:"title",value:o.title,label:"Title",onChange:f,error:u.title}),Object(h.jsx)(F,{name:"authors",value:o.authors,label:"Authors",onChange:f,error:u.authors}),Object(h.jsx)(F,{name:"publisher",value:o.publisher,label:"Publisher",onChange:f,error:u.publisher}),Object(h.jsx)(F,{name:"publishedDate",value:o.publishedDate,label:"Published Date",onChange:f,error:u.publishedDate}),Object(h.jsx)(i.a,{variant:"primary",disabled:O(),type:"submit",children:"Submit"})]})})};var A=function(e){return Object(h.jsx)("div",{className:"m-3",children:Object(h.jsx)("p",{children:"404 Page Not Found"})})};var E=function(){return Object(h.jsxs)(n.a.Fragment,{children:[Object(h.jsx)(j,{}),Object(h.jsx)("main",{children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:"/booklist",component:y}),Object(h.jsx)(u.b,{path:"/form/new",component:q}),Object(h.jsx)(u.b,{path:"/not-found",component:A}),Object(h.jsx)(u.a,{from:"/",exact:!0,to:"/booklist"}),Object(h.jsx)(u.a,{to:"/not-found"})]})})]})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(b.a,{children:Object(h.jsx)(E,{})})}),document.getElementById("root")),J()}},[[59,1,2]]]);
//# sourceMappingURL=main.125adadc.chunk.js.map